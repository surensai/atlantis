<div class="login-bg"></div>

<uib-alert type="success" class="alert-success" close="changePassword.closeAlert()"
           data-ng-if="globals.flash && globals.flash.type === 'success' && changePassword.show"
           dismiss-on-timeout="4000">{{globals.flash.message}}
</uib-alert>
<uib-alert type="warning" class="alert-danger" close="changePassword.closeAlert()"
           data-ng-if="globals.flash && globals.flash.type !== 'success' && changePassword.show"
           dismiss-on-timeout="4000">{{globals.flash.message}}
</uib-alert>

<div class="content login-wrapper" cg-busy="{promise:changePassword.loadPromise,message:'Submitting Your Data'}">

  <div class="col-lg-4 col-md-3 col-sm-3"></div>

  <div class="col-lg-4 col-md-6 col-sm-6">

    <form name="userForm" class="login-form" data-ng-submit="changePassword.submitForm(userForm)" novalidate>
      <h2 class="form-signin-heading" data-translate="nav.change_password.header">Change Password</h2>

      <div class="form-group ">
        <input type="password"  class="form-control " name="oldPassword" ng-model="changePassword.model.oldPassword"
               pattern="[A-Za-z0-9]{8,}" placeholder="{{ 'user.change_password.old_password' | translate }}" required>
        <span ng-show="userForm.$submitted && userForm.oldPassword.$error.required" class="error-mesasage">Password is required</span>
      </div>

      <div class="form-group">
      <input type="password"  class="form-control " name="password" ng-model="changePassword.model.password"
             pattern="[A-Za-z0-9]{8,}" placeholder="{{ 'user.password' | translate }}" required>
      <span class="error-mesasage" ng-show='userForm.password.$error.pattern && userForm.password.$dirty' data-translate="user.validationMessages.password_strength">Password must be between 8 and 20 characters.</span>
      <span ng-show="userForm.$submitted && userForm.password.$error.required" class="error-mesasage">Password is required</span>
    </div>

      <div class="form-group ">
        <input type="password" name="confirmPassword" data-ng-model="changePassword.model.confirmPassword"
               placeholder="{{ 'user.register.confirm_password' | translate }}" class="form-control" required>

        <p ng-show=" (changePassword.model.password !== changePassword.model.confirmPassword) "
           class="help-block error-mesasage" data-translate="user.validationMessages.password_mismatch">Password mismatch.</p>

        <p ng-show="(userForm.$submitted && userForm.confirmPassword.$error.required )" class="help-block error-mesasage"
           data-translate="user.validationMessages.cpassword_require">Confirm Password is required.</p>
      </div>

      <button type="submit" class="btn btn-large btn-block btn-primary" data-translate="common.buttons.submit">Submit
      </button>
    </form>

  </div>
  <div class="col-lg-4 col-md-3 col-sm-3"></div>
</div>
</div>
